<!doctype html><html lang="en"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Go Finance Advisor • Demo UI</title><style>:root{--bg:#0b1220;--panel:#0f172a;--line:#1f2937;--muted:#94a3b8;--text:#e5e7eb;--accent:#22c55e;--accent2:#3b82f6;--warn:#f59e0b;--err:#ef4444}*{box-sizing:border-box}html,body{height:100%}body{margin:0;background:linear-gradient(135deg,var(--bg),#0d1426);color:var(--text);font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Inter}header{position:sticky;top:0;background:rgba(15,23,42,.75);backdrop-filter:blur(8px);border-bottom:1px solid var(--line)}.wrap{max-width:1200px;margin:auto;padding:14px 20px;display:flex;gap:16px;align-items:center;justify-content:space-between}.brand{display:flex;gap:10px;align-items:center}.brand .dot{width:10px;height:10px;border-radius:999px;background:radial-gradient(circle at 30% 30%,#34d399,#16a34a)}.brand h1{margin:0;font-size:18px;letter-spacing:.3px}.status{display:flex;gap:8px;align-items:center}.badge{display:inline-flex;align-items:center;gap:8px;border:1px solid var(--line);border-radius:999px;padding:4px 10px;color:#cbd5e1;font-size:12px}.ok{color:var(--accent)}.warn{color:var(--warn)}.err{color:var(--err)}nav{border-bottom:1px solid var(--line);background:rgba(2,6,23,.5)}.tabs{max-width:1200px;margin:auto;display:flex;gap:10px;overflow:auto;padding:8px 12px}.tab{padding:8px 12px;border:1px solid var(--line);border-radius:10px;background:linear-gradient(180deg,#0f172a,#0b1220);color:#cbd5e1;cursor:pointer;white-space:nowrap}.tab.active{border-color:#334155;color:#fff;box-shadow:inset 0 0 0 1px #334155}.container{max-width:1200px;margin:18px auto;padding:0 16px;display:grid;grid-template-columns:1.15fr .85fr;gap:18px}@media (max-width:980px){.container{grid-template-columns:1fr}}.card{background:linear-gradient(180deg,#0f172a,#0b1220);border:1px solid var(--line);border-radius:14px;padding:14px}.card h2{margin:0 0 10px 0;font-size:16px;color:#cbd5e1}.row{display:flex;gap:8px;align-items:center;flex-wrap:wrap;margin-bottom:10px}.stack{display:grid;gap:8px}.muted{color:var(--muted)}input,select{background:#0b1220;border:1px solid var(--line);color:var(--text);padding:8px 10px;border-radius:10px;outline:none}input:focus,select:focus{border-color:#334155}button{background:linear-gradient(180deg,#1f8a4d,#166534);border:1px solid #14532d;color:white;padding:8px 12px;border-radius:10px;cursor:pointer}button.secondary{background:linear-gradient(180deg,#1d4ed8,#1e40af);border-color:#1e3a8a}button.ghost{background:transparent;border-color:#374151;color:#cbd5e1}button:hover{filter:brightness(1.05)}pre{background:#0b1220;border:1px solid var(--line);color:#e5e7eb;border-radius:10px;padding:10px;max-height:360px;overflow:auto;margin:0}.grid2{display:grid;grid-template-columns:1fr 1fr;gap:12px}@media (max-width:720px){.grid2{grid-template-columns:1fr}}.pill{border:1px solid var(--line);border-radius:999px;padding:4px 8px;display:inline-block}</style></head><body><header><div class="wrap"><div class="brand"><div class="dot"></div><h1>Go Finance Advisor • Demo UI</h1></div><div class="status"><span id="status-badge" class="badge">Backend: checking…</span><span id="auth-badge" class="badge">Auth: none</span></div></div></header><nav><div class="tabs"><div class="tab active" data-tab="overview">Overview</div><div class="tab" data-tab="auth">Auth</div><div class="tab" data-tab="public">Public</div><div class="tab" data-tab="protected">Protected</div><div class="tab" data-tab="market">Market</div><div class="tab" data-tab="export">Export</div></div></nav><section class="container"><div class="card" data-panel="overview"><h2>Quick Start</h2><div class="stack"><div class="row"><button id="btn-health">Health</button><button id="btn-metrics" class="secondary">Metrics</button><span class="pill">Base URL: same origin</span></div><pre id="out-overview">Click Health or Metrics to verify the backend.</pre></div></div><div class="card" data-panel="auth" style="display:none"><h2>Authentication</h2><div class="stack"><div class="row"><input id="email" type="email" placeholder="email@example.com"/><input id="password" type="password" placeholder="password"/></div><div class="row"><button id="btn-register">Register</button><button id="btn-login" class="secondary">Login</button><button id="btn-logout" class="ghost">Logout</button></div><div class="row muted">Token: <span id="token-preview" class="muted">(none)</span></div><pre id="out-auth">Register/Login results appear here.</pre></div></div><div class="card" data-panel="public" style="display:none"><h2>Public Endpoints</h2><div class="stack"><div class="row"><button id="btn-categories" class="secondary">List Categories</button></div><pre id="out-public">Public responses appear here.</pre></div></div><div class="card" data-panel="protected" style="display:none"><h2>Protected Endpoints</h2><div class="stack"><div class="row"><input id="user-id" type="number" placeholder="userId (from login response)"/><button id="btn-dashboard">Dashboard Summary</button><button id="btn-ai-risk" class="secondary">AI • Risk Assessment</button></div><pre id="out-protected">Protected responses appear here.</pre></div></div><div class="card" data-panel="market" style="display:none"><h2>Market (requires auth)</h2><div class="stack"><div class="row"><button id="btn-market-summary">Summary</button><button id="btn-market-crypto" class="secondary">Crypto</button><button id="btn-market-stocks" class="secondary">Stocks</button></div><pre id="out-market">Market responses appear here.</pre></div></div><div class="card" data-panel="export" style="display:none"><h2>Export (requires auth)</h2><div class="stack"><div class="row"><button id="btn-export-tx">Transactions (CSV)</button><button id="btn-export-budgets" class="secondary">Budgets</button><button id="btn-export-reports" class="secondary">Reports</button><button id="btn-export-all" class="ghost">All Data</button><button id="btn-export-formats" class="ghost">Formats</button></div><pre id="out-export">Export responses and download prompts will appear here.</pre></div></div></section><script>const outOverview=document.getElementById('out-overview');const outAuth=document.getElementById('out-auth');const outPublic=document.getElementById('out-public');const outProt=document.getElementById('out-protected');const outMarket=document.getElementById('out-market');const outExport=document.getElementById('out-export');const statusBadge=document.getElementById('status-badge');const authBadge=document.getElementById('auth-badge');const tokenPreview=document.getElementById('token-preview');const emailEl=document.getElementById('email');const passEl=document.getElementById('password');const userIdEl=document.getElementById('user-id');const tabs=[...document.querySelectorAll('.tab')];const panels=[...document.querySelectorAll('[data-panel]')];tabs.forEach(t=>t.onclick=()=>{tabs.forEach(x=>x.classList.remove('active'));t.classList.add('active');const key=t.getAttribute('data-tab');panels.forEach(p=>{p.style.display=p.getAttribute('data-panel')===key?'block':'none'})});const api={health:()=>fetch('/health').then(r=>r.json()),v1health:()=>fetch('/api/v1/health').then(r=>r.json()),metrics:()=>fetch('/metrics').then(r=>r.json()),categories:()=>fetch('/api/v1/categories').then(r=>r.json()),register:(email,password)=>fetch('/api/v1/auth/register',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email,password})}).then(r=>r.json()),login:(email,password)=>fetch('/api/v1/auth/login',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email,password})}).then(r=>r.json()),dashboard:(userId,token)=>fetch(`/api/v1/users/${userId}/analytics/dashboard`,{headers:{'Authorization':`Bearer ${token}`}}).then(r=>r.json()),aiRisk:(userId,token)=>fetch(`/api/v1/users/${userId}/ai/risk-assessment`,{headers:{'Authorization':`Bearer ${token}`}}).then(r=>r.json()),marketSummary:(t)=>fetch('/api/v1/market/summary',{headers:{'Authorization':`Bearer ${t}`}}).then(r=>r.json()),marketCrypto:(t)=>fetch('/api/v1/market/crypto',{headers:{'Authorization':`Bearer ${t}`}}).then(r=>r.json()),marketStocks:(t)=>fetch('/api/v1/market/stocks',{headers:{'Authorization':`Bearer ${t}`}}).then(r=>r.json()),exportTx:(t)=>fetch('/api/v1/export/transactions',{headers:{'Authorization':`Bearer ${t}`}}),exportBudgets:(t)=>fetch('/api/v1/export/budgets',{headers:{'Authorization':`Bearer ${t}`}}),exportReports:(t)=>fetch('/api/v1/export/reports',{headers:{'Authorization':`Bearer ${t}`}}),exportAll:(t)=>fetch('/api/v1/export/all',{headers:{'Authorization':`Bearer ${t}`}}),exportFormats:(t)=>fetch('/api/v1/export/formats',{headers:{'Authorization':`Bearer ${t}`}}).then(r=>r.json()),};function setToken(tok){if(tok){localStorage.setItem('token',tok);tokenPreview.textContent=tok.slice(0,16)+'…';authBadge.textContent='Auth: token';authBadge.classList.remove('warn','err');authBadge.classList.add('ok')}else{localStorage.removeItem('token');tokenPreview.textContent='(none)';authBadge.textContent='Auth: none';authBadge.classList.remove('ok','err');authBadge.classList.add('warn')}}function show(el,data){try{el.textContent=JSON.stringify(data,null,2)}catch(_){el.textContent=String(data)}}async function init(){try{const h=await api.health();statusBadge.textContent='Backend: online';statusBadge.classList.add('ok');console.log(h)}catch(e){statusBadge.textContent='Backend: offline';statusBadge.classList.add('err')}const saved=localStorage.getItem('token');if(saved) setToken(saved)}document.getElementById('btn-health').onclick=async()=>{const a=await api.health();const b=await api.v1health();show(outOverview,{health:a,v1:b})};document.getElementById('btn-metrics').onclick=async()=>{const m=await api.metrics();show(outOverview,m)};document.getElementById('btn-categories').onclick=async()=>{const c=await api.categories();show(outPublic,c)};document.getElementById('btn-register').onclick=async()=>{const email=emailEl.value||`user${Date.now()}@demo.local`;const pwd=passEl.value||'P@ssw0rd!';const res=await api.register(email,pwd);show(outAuth,res)};document.getElementById('btn-login').onclick=async()=>{const email=emailEl.value;const pwd=passEl.value;if(!email||!pwd){alert('Please enter email/password');return}const res=await api.login(email,pwd);show(outAuth,res);const t=res.token||res.access_token||res.jwt||res.data?.token;if(t) setToken(t);const uid=res.user?.id||res.data?.user?.id;if(uid) userIdEl.value=uid};document.getElementById('btn-logout').onclick=()=>setToken(null);document.getElementById('btn-dashboard').onclick=async()=>{const uid=userIdEl.value;const t=localStorage.getItem('token');if(!uid||!t){alert('userId and token required');return}const res=await api.dashboard(uid,t);show(outProt,res)};document.getElementById('btn-ai-risk').onclick=async()=>{const uid=userIdEl.value;const t=localStorage.getItem('token');if(!uid||!t){alert('userId and token required');return}const res=await api.aiRisk(uid,t);show(outProt,res)};document.getElementById('btn-market-summary').onclick=async()=>{const t=localStorage.getItem('token');if(!t){alert('Login required');return}const res=await api.marketSummary(t);show(outMarket,res)};document.getElementById('btn-market-crypto').onclick=async()=>{const t=localStorage.getItem('token');if(!t){alert('Login required');return}const res=await api.marketCrypto(t);show(outMarket,res)};document.getElementById('btn-market-stocks').onclick=async()=>{const t=localStorage.getItem('token');if(!t){alert('Login required');return}const res=await api.marketStocks(t);show(outMarket,res)};async function download(name,res){const blob=await res.blob();const url=URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download=name||'download';document.body.appendChild(a);a.click();a.remove();URL.revokeObjectURL(url)}document.getElementById('btn-export-tx').onclick=async()=>{const t=localStorage.getItem('token');if(!t){alert('Login required');return}const r=await api.exportTx(t);outExport.textContent='Downloading transactions…';await download('transactions',r)};document.getElementById('btn-export-budgets').onclick=async()=>{const t=localStorage.getItem('token');if(!t){alert('Login required');return}const r=await api.exportBudgets(t);outExport.textContent='Downloading budgets…';await download('budgets',r)};document.getElementById('btn-export-reports').onclick=async()=>{const t=localStorage.getItem('token');if(!t){alert('Login required');return}const r=await api.exportReports(t);outExport.textContent='Downloading reports…';await download('reports',r)};document.getElementById('btn-export-all').onclick=async()=>{const t=localStorage.getItem('token');if(!t){alert('Login required');return}const r=await api.exportAll(t);outExport.textContent='Downloading all data…';await download('all-data',r)};document.getElementById('btn-export-formats').onclick=async()=>{const t=localStorage.getItem('token');if(!t){alert('Login required');return}const r=await api.exportFormats(t);show(outExport,r)};init();</script></body></html>